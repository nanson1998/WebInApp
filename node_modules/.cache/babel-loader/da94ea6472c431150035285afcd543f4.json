{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/lap12580/Documents/webInApp/src/components/home/create-order.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { Grid } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport { useAppStore } from \"./store\"; // @ts-ignore\n\nconst zaloPay = window.ZaloPay;\n\nconst queryString = require('query-string');\n\nconst parsed = queryString.parse(window.location.search);\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    padding: \"3rem\"\n  },\n  form: {\n    width: \"100%\"\n  },\n  input: {\n    margin: \"20px 0\",\n    \"& input:valid + fieldset\": {\n      borderColor: \"#008fe5\",\n      borderWidth: 1\n    },\n    \"& input:focus + fieldset\": {\n      borderColor: \"#008fe5 !important\",\n      borderWidth: 1\n    },\n    \"& input:invalid + fieldset\": {\n      borderColor: \"#ff6767\",\n      borderWidth: 1\n    }\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  pay: {\n    padding: \"16px 0\",\n    boxShadow: \"none\",\n    backgroundColor: \"#008fe5\",\n    color: \"#f9f9f9\",\n    \"&:hover\": {\n      boxShadow: \"none\",\n      backgroundColor: \"#008fe5\",\n      color: \"#f9f9f9\"\n    }\n  },\n  clear: {\n    padding: \"16px 0\",\n    color: \"#6093ff\",\n    textTransform: \"inherit\"\n  }\n}));\n\nfunction Order() {\n  _s();\n\n  const classes = useStyles();\n  const {\n    app,\n    setApp,\n    token,\n    setToken\n  } = useAppStore();\n  const [result, setResult] = useState(\"\");\n  useEffect(() => {\n    if (typeof parsed.app === 'string') {\n      setApp(parsed.app);\n    }\n\n    if (typeof parsed.t === 'string') {\n      setToken(parsed.t);\n    }\n  }, []);\n\n  const handleAppOnChange = e => {\n    console.log(\"handleAppOnChange Value: \", e.target.value);\n    setApp(e.target.value);\n  };\n\n  const handleTokenOnChange = e => {\n    console.log(\"handleTokenOnChange Value: \", e.target.value);\n    setToken(e.target.value);\n  };\n\n  const handlePayOrder = e => {\n    e.preventDefault();\n    console.log(\"app: \", app, \"token: \", token);\n    zaloPay.payOrder({\n      appid: app,\n      zptranstoken: token\n    }, callback);\n  };\n\n  const handleClearData = () => {\n    console.log(\"cleared\");\n    setApp(\"\");\n    setToken(\"\");\n  };\n\n  const handleClose = () => {\n    zaloPay.closeWindow();\n  };\n\n  const handleToOAPage = () => {\n    zaloPay.call(\"launchDeeplink\", {\n      url: \"https://zalo.me/1365410903334518373\"\n    }, handleClose); //window.location.href =\n    // \"https://sbqrpay.zalopay.vn/merchant/shop/124708/follow-oa?id=1365410903334518373\";\n  };\n\n  const callback = data => {\n    console.log(\"data callback: \", data);\n\n    if (data.error === 1) {\n      setResult(\"Thanh toán thành công\");\n    } else if (data.error === 4) {\n      setResult(\"Người dùng huỷ việc thanh toán đơn hàng\");\n    } else {\n      setResult(`Thanh toán đơn hàng thất bại với mã lỗi: ${data.errorCode}`);\n    }\n\n    setTimeout(() => {\n      setResult(\"\");\n    }, 5000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"flex-start\",\n    alignItems: \"center\",\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      noValidate: true,\n      autoComplete: \"off\",\n      className: classes.form,\n      onSubmit: handlePayOrder,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"app-input\",\n          required: true,\n          autoFocus: true,\n          type: \"number\",\n          label: \"App\",\n          value: app,\n          variant: \"outlined\",\n          fullWidth: true,\n          className: classes.input,\n          onChange: handleAppOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"token-input\",\n          required: true,\n          label: \"Token\",\n          value: token,\n          variant: \"outlined\",\n          placeholder: \"token\",\n          fullWidth: true,\n          className: classes.input,\n          onChange: handleTokenOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"text\",\n          size: \"medium\",\n          fullWidth: true,\n          className: classes.clear,\n          onClick: handleClearData,\n          children: \"Xo\\xE1 data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          size: \"medium\",\n          fullWidth: true,\n          className: classes.pay,\n          style: {\n            backgroundColor: \"#fc820d\"\n          },\n          type: \"submit\",\n          disabled: app === null || app === \"\" || token == null || token === \"\",\n          children: \"Thanh To\\xE1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          size: \"medium\",\n          fullWidth: true,\n          className: classes.pay,\n          style: {\n            marginTop: \"20px\"\n          },\n          href: \"/users\",\n          children: \"User Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          size: \"medium\",\n          fullWidth: true,\n          className: classes.pay,\n          style: {\n            marginTop: \"20px\"\n          },\n          href: \"/bindings\",\n          children: \"Binding\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          size: \"medium\",\n          fullWidth: true,\n          className: classes.pay,\n          style: {\n            marginTop: \"20px\"\n          },\n          onClick: handleToOAPage,\n          children: \"FollowOA (2553)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        paddingTop: \"20px\",\n        color: \"#737373\"\n      },\n      children: result\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Order, \"AY+W7a9MPDCklF3ZiuKIHC+S5Ew=\", false, function () {\n  return [useStyles, useAppStore];\n});\n\n_c = Order;\nexport default Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"sources":["/Users/lap12580/Documents/webInApp/src/components/home/create-order.tsx"],"names":["React","useEffect","useState","TextField","createStyles","makeStyles","Grid","Button","useAppStore","zaloPay","window","ZaloPay","queryString","require","parsed","parse","location","search","useStyles","theme","root","padding","form","width","input","margin","borderColor","borderWidth","spacing","pay","boxShadow","backgroundColor","color","clear","textTransform","Order","classes","app","setApp","token","setToken","result","setResult","t","handleAppOnChange","e","console","log","target","value","handleTokenOnChange","handlePayOrder","preventDefault","payOrder","appid","zptranstoken","callback","handleClearData","handleClose","closeWindow","handleToOAPage","call","url","data","error","errorCode","setTimeout","marginTop","paddingTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Grid } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport { useAppStore } from \"./store\";\n\n// @ts-ignore\nconst zaloPay: any = window.ZaloPay;\nconst queryString = require('query-string');\nconst parsed = queryString.parse(window.location.search);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"3rem\",\n    },\n    form: {\n      width: \"100%\",\n    },\n    input: {\n      margin: \"20px 0\",\n      \"& input:valid + fieldset\": {\n        borderColor: \"#008fe5\",\n        borderWidth: 1,\n      },\n      \"& input:focus + fieldset\": {\n        borderColor: \"#008fe5 !important\",\n        borderWidth: 1,\n      },\n      \"& input:invalid + fieldset\": {\n        borderColor: \"#ff6767\",\n        borderWidth: 1,\n      },\n    },\n\n    margin: {\n      margin: theme.spacing(1),\n    },\n\n    pay: {\n      padding: \"16px 0\",\n      boxShadow: \"none\",\n      backgroundColor: \"#008fe5\",\n      color: \"#f9f9f9\",\n      \"&:hover\": {\n        boxShadow: \"none\",\n        backgroundColor: \"#008fe5\",\n        color: \"#f9f9f9\",\n      },\n    },\n    clear: {\n      padding: \"16px 0\",\n      color: \"#6093ff\",\n      textTransform: \"inherit\",\n    },\n  })\n);\n\nfunction Order() {\n  const classes = useStyles();\n  const { app, setApp, token, setToken } = useAppStore();\n  const [result, setResult] = useState<string>(\"\");\n\n\n  useEffect(() => {\n    if (typeof parsed.app === 'string') {\n      setApp(parsed.app)\n    }\n    if (typeof parsed.t === 'string') {\n      setToken(parsed.t)\n    }\n  }, [])\n\n  const handleAppOnChange = (e: any) => {\n    console.log(\"handleAppOnChange Value: \", e.target.value);\n    setApp(e.target.value);\n  };\n\n  const handleTokenOnChange = (e: any) => {\n    console.log(\"handleTokenOnChange Value: \", e.target.value);\n    setToken(e.target.value);\n  };\n\n  const handlePayOrder = (e: any) => {\n    e.preventDefault();\n    console.log(\"app: \", app, \"token: \", token);\n    zaloPay.payOrder({ appid: app, zptranstoken: token }, callback);\n  };\n\n  const handleClearData = () => {\n    console.log(\"cleared\");\n    setApp(\"\");\n    setToken(\"\");\n  };\n\n  const handleClose = () => {\n    zaloPay.closeWindow();\n  };\n\n  const handleToOAPage = () => {\n    zaloPay.call(\n      \"launchDeeplink\",\n      {\n        url: \"https://zalo.me/1365410903334518373\",\n      },\n      handleClose\n    );\n\n    //window.location.href =\n    // \"https://sbqrpay.zalopay.vn/merchant/shop/124708/follow-oa?id=1365410903334518373\";\n  };\n\n  const callback = (data: any) => {\n    console.log(\"data callback: \", data);\n    if (data.error === 1) {\n      setResult(\"Thanh toán thành công\");\n    } else if (data.error === 4) {\n      setResult(\"Người dùng huỷ việc thanh toán đơn hàng\");\n    } else {\n      setResult(`Thanh toán đơn hàng thất bại với mã lỗi: ${data.errorCode}`);\n    }\n\n    setTimeout(() => {\n      setResult(\"\");\n    }, 5000);\n  };\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justify=\"flex-start\"\n      alignItems=\"center\"\n      className={classes.root}\n    >\n      <form\n        noValidate\n        autoComplete=\"off\"\n        className={classes.form}\n        onSubmit={handlePayOrder}\n      >\n        <Grid item>\n          <TextField\n            id=\"app-input\"\n            required\n            autoFocus={true}\n            type={\"number\"}\n            label=\"App\"\n            value={app}\n            variant=\"outlined\"\n            fullWidth\n            className={classes.input}\n            onChange={handleAppOnChange}\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            id=\"token-input\"\n            required\n            label=\"Token\"\n            value={token}\n            variant=\"outlined\"\n            placeholder={\"token\"}\n            fullWidth\n            className={classes.input}\n            onChange={handleTokenOnChange}\n          />\n        </Grid>\n\n        <Grid item>\n          <Button\n            variant={\"text\"}\n            size={\"medium\"}\n            fullWidth\n            className={classes.clear}\n            onClick={handleClearData}\n          >\n            Xoá data\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            variant={\"contained\"}\n            size={\"medium\"}\n            fullWidth\n            className={classes.pay}\n            style={{ backgroundColor: \"#fc820d\" }}\n            type={\"submit\"}\n            disabled={\n              app === null || app === \"\" || token == null || token === \"\"\n            }\n          >\n            Thanh Toán\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            variant={\"contained\"}\n            size={\"medium\"}\n            fullWidth\n            className={classes.pay}\n            style={{ marginTop: \"20px\" }}\n            href={\"/users\"}\n          >\n            User Info\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            variant={\"contained\"}\n            size={\"medium\"}\n            fullWidth\n            className={classes.pay}\n            style={{ marginTop: \"20px\" }}\n            href={\"/bindings\"}\n          >\n            Binding\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            variant={\"contained\"}\n            size={\"medium\"}\n            fullWidth\n            className={classes.pay}\n            style={{ marginTop: \"20px\" }}\n            onClick={handleToOAPage}\n          >\n            FollowOA (2553)\n          </Button>\n        </Grid>\n      </form>\n      <p style={{ paddingTop: \"20px\", color: \"#737373\" }}>{result}</p>\n    </Grid>\n  );\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}